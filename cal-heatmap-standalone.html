<head>



<!-- dependency -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<!-- insall library -->
<script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css">

<!-- tooltip -->
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/cal-heatmap/dist/plugins/Tooltip.min.js"></script>
<!-- legend -->
<script src="https://unpkg.com/cal-heatmap/dist/plugins/Legend.min.js"></script>

</head>

<body>

<h1>Obsidian </h1>
<div id="example-sort"></div>
</body>

<script type="text/javascript">

    const custom_data = [
        { date: '2023-03-21', value: 13 },
        { date: '2023-03-22', value: 26 },
    ];

    for(let days = 1; days <= 100; days++) {
        var d = new Date();
        d.setDate(d.getDate() - days);
        var datestring = d.getFullYear()+ "-" +(d.getMonth()+1)+ "-" +d.getDate();
        custom_data.push({ date: datestring, value: days})
    }

    // Help : https://cal-heatmap.com/docs/getting-started/installation
    const cal = new CalHeatmap();

    var days_to_subtract = 330;
    var d = new Date();
    d.setDate(d.getDate() - days_to_subtract);


    cal.paint({
        itemSelector: '#example-sort',
        domain: { type: 'month' },
        subDomain: { type: 'day', width: 20, height: 20 },
        range: 12,
        date: { start: d, highlight: [ new Date()], max: new Date() },
        data: {
            source: custom_data,
            x: 'date',
            y: 'value',
        },
        scale: {
            color: {
                scheme: "turbo",
                // range: ['yellow', 'red'],
                // interpolate: 'hsl',
                type: 'linear',
                domain: [0, 100],
            },
        },
    },[
    [
      Tooltip,
      {
        text: function (date, value, dayjsDate) {
          return (
            (value ? value + '°C' : 'No data') + ' on ' + dayjsDate.format('LL')
          );
        },
      },
    ],
    [
      Legend,
      {
        tickSize: 0,
        width: 150,
        label: 'Seattle max temperature °C',
      },
    ]
  ]);
</script>

